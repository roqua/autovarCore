<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>impute_datamatrix. autovarCore 1.0-0</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">autovarCore 1.0-0</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>Imputes the missing values in the input data</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><div>impute_datamatrix(data_matrix, measurements_per_day, imputation_iterations)</div></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>data_matrix</dt>
      <dd>The raw, unimputed data matrix.</dd>
      <dt>measurements_per_day</dt>
      <dd>The number of measurements per day. This variable is used for adding day part dummy variables to aid the imputation.</dd>
      <dt>imputation_iterations</dt>
      <dd>The amount of times the Amelia imputation should be averaged over.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p><dl>
This function returns the modified matrix.
</dl></p>
  
    </div>

    <div class="Description">
      <h2>Description</h2>

      <p>This function uses <code>Amelia::amelia</code> to impute missing (<code>NA</code>) values in the input data set. This function averages over multiple Amelia imputations to obtain more consistent results. The Amelia imputation model uses all variables of the supplied <code>data_matrix</code>, the first lag of those variables, time, time squared, and day-part dummies.</p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'># create a matrix with some missing values
data_matrix &lt;- matrix(nrow = 40, ncol = 3)
data_matrix[, ] &lt;- runif(ncol(data_matrix) * nrow(data_matrix), 1, nrow(data_matrix))
while (sum(is.na(data_matrix)) == 0)
  data_matrix[as.logical(round(runif(ncol(data_matrix) * nrow(data_matrix), -0.3, 0.7)))] &lt;- NA
colnames(data_matrix) &lt;- c(&#39;rumination&#39;, &#39;happiness&#39;, &#39;activity&#39;)
data_matrix
</div>
<div class='output'>      rumination happiness  activity
 [1,]         NA 37.577396  3.502706
 [2,]   6.139048  2.235923 24.172005
 [3,]         NA        NA 33.064594
 [4,]  15.777773 36.904417        NA
 [5,]  14.030311 14.785927        NA
 [6,]  26.164169        NA 12.593142
 [7,]  26.930032        NA 20.682677
 [8,]  29.247160 11.667612        NA
 [9,]  17.573041 28.692186 12.541415
[10,]  31.198880 13.616451 31.757525
[11,]         NA 39.525682 34.615254
[12,]   3.953175 27.748472 21.814056
[13,]  12.265093  9.833167 12.871507
[14,]  10.687039        NA        NA
[15,]  13.842668 12.916794 28.090352
[16,]         NA 16.586093        NA
[17,]  11.634159 13.077746        NA
[18,]         NA 35.615520 15.682688
[19,]   3.997146 25.177302 27.019341
[20,]  25.677142 33.924117 36.359559
[21,]  28.287281 10.903270        NA
[22,]  15.007503 25.097137 21.605363
[23,]  11.625971 24.415972 16.919721
[24,]  14.693593 22.369794  1.220963
[25,]         NA  1.486761 24.091593
[26,]   9.754904  6.225519 15.497788
[27,]  15.707048        NA 10.944959
[28,]   6.407529 39.874792 38.181092
[29,]  16.031248 22.455817        NA
[30,]  25.540948 24.938191 22.059021
[31,]  16.636178 23.039654 34.990424
[32,]         NA  7.922731        NA
[33,]  25.611125 37.629475  9.765137
[34,]   9.855556 39.288219  1.442918
[35,]         NA        NA 25.657004
[36,]  19.040493 32.496353  7.786270
[37,]  16.652420        NA 26.049170
[38,]  13.449157 13.378413 35.927923
[39,]  32.026203        NA 16.019434
[40,]  36.538678 37.987124 31.798174
</div>
<div class='input'>autovarCore:::impute_datamatrix(data_matrix, 1, 100)
</div>
<div class='output'>      rumination happiness  activity
 [1,]  20.606649 37.577396  3.502706
 [2,]   6.139048  2.235923 24.172005
 [3,]  22.103973 21.132603 33.064594
 [4,]  15.777773 36.904417 19.981173
 [5,]  14.030311 14.785927 21.623106
 [6,]  26.164169 23.464956 12.593142
 [7,]  26.930032 21.641210 20.682677
 [8,]  29.247160 11.667612 25.101862
 [9,]  17.573041 28.692186 12.541415
[10,]  31.198880 13.616451 31.757525
[11,]  23.534244 39.525682 34.615254
[12,]   3.953175 27.748472 21.814056
[13,]  12.265093  9.833167 12.871507
[14,]  10.687039 17.891659 16.913451
[15,]  13.842668 12.916794 28.090352
[16,]  16.699376 16.586093 20.594514
[17,]  11.634159 13.077746 19.149197
[18,]  16.049981 35.615520 15.682688
[19,]   3.997146 25.177302 27.019341
[20,]  25.677142 33.924117 36.359559
[21,]  28.287281 10.903270 27.453730
[22,]  15.007503 25.097137 21.605363
[23,]  11.625971 24.415972 16.919721
[24,]  14.693593 22.369794  1.220963
[25,]  14.326075  1.486761 24.091593
[26,]   9.754904  6.225519 15.497788
[27,]  15.707048 21.406266 10.944959
[28,]   6.407529 39.874792 38.181092
[29,]  16.031248 22.455817 21.819746
[30,]  25.540948 24.938191 22.059021
[31,]  16.636178 23.039654 34.990424
[32,]  22.020369  7.922731 22.303637
[33,]  25.611125 37.629475  9.765137
[34,]   9.855556 39.288219  1.442918
[35,]  13.735343 17.042015 25.657004
[36,]  19.040493 32.496353  7.786270
[37,]  16.652420 24.249787 26.049170
[38,]  13.449157 13.378413 35.927923
[39,]  32.026203 31.017806 16.019434
[40,]  36.538678 37.987124 31.798174
</div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>impute_datamatrix</li>
    </ul>
    <ul>
      
    </ul> -->
      
        
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="http://twitter.github.com/bootstrap">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>