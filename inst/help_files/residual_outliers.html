<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>residual_outliers. autovarCore 1.0-0</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">autovarCore 1.0-0</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>Calculate dummy variables to mask residual outliers</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><div>residual_outliers(resid_matrix, number_of_rows)</div></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>resid_matrix</dt>
      <dd>A matrix of residuals. Column names are copied over to the returned result.</dd>
      <dt>number_of_rows</dt>
      <dd>The number of measurements that were input to the model. Since the length of the residual matrix is shorter depending on the amount of lags in the model, we use <code>number_of_rows</code> to specify the number of rows in the returned matrix.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p><dl>
A matrix with dummy variables in columns following the procedure described above.
</dl></p>
  
    </div>

    <div class="Description">
      <h2>Description</h2>

      <p>This function returns a matrix with columns that have a <code>1</code> at indices where the residuals have an outlier, and a <code>0</code> everywhere else. Outliers are calculated per variable (column) separately. We consider residual outliers the rows in the column of residuals or in the column of squared residuals that are more than 2.5 times the standard deviation away from the mean (standard deviation and mean are calculated separately per column and for residuals/squared residuals). The dummy columns are prepended with zeros to match the size of the other input variables to the model.</p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'>resid_matrix &lt;- matrix(rnorm(39 * 3),
                       nrow = 39,
                       ncol = 3,
                       dimnames = list(NULL, c(&#39;rumination&#39;, &#39;happiness&#39;, &#39;activity&#39;)))
resid_matrix[13, 2] &lt;- 48
resid_matrix[23, 2] &lt;- -62
resid_matrix[36, 2] &lt;- 33
resid_matrix[27, 3] &lt;- 75
resid_matrix
</div>
<div class='output'>       rumination    happiness     activity
 [1,]  1.74412951  -0.08952156 -1.227971464
 [2,]  0.51467971   1.10895853 -1.772197647
 [3,]  0.09472390   1.51853532  1.133241529
 [4,]  0.89712802  -1.17649470 -0.254325484
 [5,]  0.61592583  -0.57222734 -0.481943176
 [6,]  1.13691357   1.34959192  0.306701698
 [7,] -0.19337343  -0.58497414  0.558573608
 [8,] -0.10291652   1.49342003  1.161251393
 [9,] -0.39547084   1.33877452 -1.517404929
[10,] -1.69643358  -0.11926171  0.203840305
[11,]  0.14364480   0.28452811 -0.666733861
[12,] -1.79802635   1.79111918  1.155295654
[13,] -1.13366799  48.00000000  0.009603987
[14,]  0.72969282   0.23894621 -1.222543093
[15,] -0.92622371  -0.76554205  0.321294647
[16,] -1.37925746  -0.03176972  1.145189503
[17,] -0.04154584  -0.12008293  0.635468536
[18,]  0.58037610   0.70517818  1.701155645
[19,]  1.07068969   1.39075017  1.185533510
[20,] -1.09522201   0.61402418 -0.532310017
[21,] -0.12703532   2.23178794  0.576637743
[22,] -1.07817669  -0.90879048 -0.911497203
[23,] -0.86404123 -62.00000000  0.109788223
[24,] -1.45250455   1.41027564  0.853146098
[25,]  0.63145390   1.05285491  0.669878608
[26,]  0.93517970  -0.41948250  0.260619128
[27,] -1.32679001   2.56156640 75.000000000
[28,]  0.39673773   1.51810665 -0.220220934
[29,]  0.23223600  -0.74654753  1.354460681
[30,] -1.10408870   0.85408506 -0.654303886
[31,]  0.36621361   1.01326242  0.589130275
[32,] -1.57844608  -0.12140882  0.598238154
[33,] -0.06337221   1.81852612  0.108182735
[34,] -0.10171164   0.34095216  0.236006060
[35,] -0.48844931   0.36647325  0.972052618
[36,]  0.28874353  33.00000000 -1.920248595
[37,] -0.09342191   0.44322546  0.308225921
[38,] -3.10660106  -0.05703609  0.557659668
[39,] -0.84214658  -0.68028199  1.689893493
</div>
<div class='input'>autovarCore:::residual_outliers(resid_matrix, 40)
</div>
<div class='output'>      rumination happiness activity
 [1,]          0         0        0
 [2,]          0         0        0
 [3,]          0         0        0
 [4,]          0         0        0
 [5,]          0         0        0
 [6,]          0         0        0
 [7,]          0         0        0
 [8,]          0         0        0
 [9,]          0         0        0
[10,]          0         0        0
[11,]          0         0        0
[12,]          0         0        0
[13,]          0         0        0
[14,]          0         1        0
[15,]          0         0        0
[16,]          0         0        0
[17,]          0         0        0
[18,]          0         0        0
[19,]          0         0        0
[20,]          0         0        0
[21,]          0         0        0
[22,]          0         0        0
[23,]          0         0        0
[24,]          0         1        0
[25,]          0         0        0
[26,]          0         0        0
[27,]          0         0        0
[28,]          0         0        1
[29,]          0         0        0
[30,]          0         0        0
[31,]          0         0        0
[32,]          0         0        0
[33,]          0         0        0
[34,]          0         0        0
[35,]          0         0        0
[36,]          0         0        0
[37,]          0         0        0
[38,]          0         0        0
[39,]          1         0        0
[40,]          0         0        0
</div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>residual_outliers</li>
    </ul>
    <ul>
      
    </ul> -->
      
        
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="http://twitter.github.com/bootstrap">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>